<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
{% capture title %}{% if page.title %}{{ page.title | escape }} || {{ site.title | escape}}{% else %}{{ site.title | escape }}{% endif %}{% endcapture %}
{% capture description %}{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}{% endcapture %}
{% capture url %}{{ page.url | replace:'index.html','' | absolute_url }}{% endcapture %}
<title>{{ title }}</title>
<meta name="description" content="{{ description }}">
{% if page.featured_image %}
<meta name="twitter:card" content="summary_large_image">
{% capture og_image %}{{ site.url }}{{ page.featured_image }}{% endcapture %}
{% elsif page.images and page.images.size > 0 %}
<meta name="twitter:card" content="summary_large_image">
{% assign slug = page.title | slugify %}
{% assign project_assets = "/assets/projects/" | append: slug %}
{% capture og_image %}{{ site.url }}{{ project_assets }}/{{page.images[0]}}{% endcapture %}
{% else %}
{% capture og_image %}{{ site.url }}/assets/images/og-banner.png{% endcapture %}
{% endif %}
<meta property="og:image" content="{{ og_image }}"/>
<meta property="og:type"  content="{% if page.collection == 'posts' or page.collection == 'projects' %}article{% else %}website{% endif%}" />
<meta property="og:url" content="{{ url }}"/>
<meta property="og:title" content="{{ title }}"/>
<meta property="og:description" content="{{ description }}"/>

<meta name="twitter:site" content="@{{ site.twitter_username }}">
<meta name="twitter:creator" content="@{{ site.twitter_username }}">
<link rel="canonical" href="{{ url }}">
<link rel="alternate" type="application/rss+xml" title="{{ site.title | escape }}"
      href="{{ '/feed.xml' | relative_url }}">
{% if jekyll.environment == 'production' and site.google_analytics %}
{% include google-analytics.html %}
{% endif %}